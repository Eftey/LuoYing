<?xml version="1.0" encoding="UTF-8"?>

<root
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xmlns='http://luoying.huliqing.name'
    xsi:schemaLocation='http://luoying.huliqing.name meta/entity.xsd'>
    
    <!-- ========================================================================= -->
    <!--基本配置：这些作为内置配置，统一定义不同类型环境物体的基本属性，外部应用可以直接继承后使用，也可以自己另起配置 -->
    <!-- ========================================================================= -->
    
    <!--基本天空-->
    <entitySkyBox id="sysEntitySkyBase" baseDir="LuoYing/Assets/Textures/Sky/" 
            west="west.jpg" east="east.jpg" north="north.jpg" south="south.jpg" up="up.jpg" down="down.jpg" />
    
    <!--地形基本配置：需要接收投影，需要静态物理-->
    <entitySimpleTerrain id="sysEntityTerrainBase" file="LuoYing/Assets/Models/unitBox.j3o" scale="100,1,100"  shadowMode="Receive" modules="sysModuleTerrainPhysics" />

    <!--树木基本配置： 需要投影，需要静态物理-->
    <entityTree id="sysEntityTreeBase" file="LuoYing/Assets/Models/Tree/tree431.obj" scale="10,10,10" shadowMode="Cast" modules="sysModuleTreePhysics"  />
    
    <!--花草植被的基本配置: 不需要投影，不需要物理-->
    <entityGrass id="sysEntityGrassBase" shadowMode="Off" />
    
    <!--简单水体，可适用移动平台-->
    <entitySimpleWater id="sysEntitySimpleWaterBase" waterModel="LuoYing/Assets/MatDefs/SimpleWater/water.mesh.j3o" scale="300,1,300" 
        location="0,-2.5,0" rotation="0,0,0" waterColor="0.6, 0.8, 0.9, 1" texScale="10" waveSpeed="0.003" distortionScale="0.4"
        foamMap="LuoYing/Assets/MatDefs/SimpleWater/foam.jpg" foamScale="1,1" 
        foamMaskMap="LuoYing/Assets/MatDefs/SimpleWater/foamMask.jpg" foamMaskScale="1.8, 1.8" 
    />

    <!--高级水体，资源占用较大，不能用在移动平台 -->
    <entityAdvanceWater id="sysEntityAdvanceWaterBase" waterColor="0.6, 0.8, 0.9, 1" deepWaterColor="0.6, 0.8, 0.9, 1" underWaterFogDistance="80" waterTransparency="0.12" 
                     foamIntensity="0.4" foamHardness="0.3" foamExistence="0.8,8,1" reflectionDisplace="50" refractionConstant="0.25" 
                     colorExtinction="30, 50, 70" causticsIntensity="0.4" waveScale="0.003" maxAmplitude="2" foamTexture="Common/MatDefs/Water/Textures/foam2.jpg"
                     refractionStrength="0.2" waterHeight="-2.5" sunScale="3" />
    
    <!--简单的方形物理边界基本配置：需要静态物理，始终隐藏-->
    <entitySimpleModel id="sysEntityBoundaryBase" file="LuoYing/Assets/Models/unitBoundaryBox.j3o" scale="100,20,100" cullHint="Always" modules="sysModuleBoundaryPhysics" />
    
    <!--基本物理环境-->
    <entityPhysics id="sysEntityPhysicsBase" gravity="0,-9.81,0" threadingType="SEQUENTIAL" />
    
    <!--基本直射光和环境光-->
    <entityDirectionalLight id="sysEntityDirectionalLightBase" direction="-1,-1,-1" color="0.8,0.8,0.8,0.8" />
    <entityAmbientLight id="sysEntityAmbientLightBase" color="0.7,0.7,0.7,0.7" />
    
    <!--基本阴影配置-->
    <entityDirectionalLightFilterShadow id="sysEntityShadowBase" shadowIntensity="0.3" shadowMapSize="2048" shadowMaps="1" />
    
    <!--基本的物理相机跟随-->
    <entityChaseCamera id="sysEntityChaseCameraBase" invertVerticalAxis="1" lookAtOffset="0,2,0" zoomSensitivity="0.5" 
                    rotationSpeed="5" rotationSensitivity="5" maxDistance="15" minDistance="2" defaultDistance="15" 
                    chasingSensitivity="5" downRotateOnCloseViewOnly="1" upVector="0,1,0" hideCursorOnRotate="0" />
    
    <!-- ========================================================================= -->
    <!-- 以下为内置环境物体 -->
    <!-- ========================================================================= -->
    
    <!--内置天空盒-->
    <entitySkyBox id="sysEntitySky" extends="sysEntitySkyBase" />
    
    <!--内置直射光环境-->
    <entityDirectionalLight id="sysEntityDirectionalLight" extends="sysEntityDirectionalLightBase" />

    <!--内置环境光-->
    <entityAmbientLight id="sysEntityAmbientLight" extends="sysEntityAmbientLightBase" />
    
    <!--内置测试用地形-->
    <entitySimpleTerrain id="sysEntityTerrain" extends="sysEntityTerrainBase" />
    
    <!--内置测试用的树模型-->
    <entityTree id="sysEntityTree" extends="sysEntityTreeBase"  />
    
    <!--内置物理环境-->
    <entityPhysics id="sysEntityPhysics" extends="sysEntityPhysicsBase" />
    
    <!--内置阴影环境-->
    <entityDirectionalLightFilterShadow id="sysEntityShadow" extends="sysEntityShadowBase" />

    <!--内置物理跟随相机-->
    <entityChaseCamera id="sysEntityChaseCamera" extends="sysEntityChaseCameraBase" />
    
    <!--内置普通水体-->
    <entitySimpleWater id="sysEntitySimpleWater" extends="sysEntitySimpleWaterBase" />
    
    <!--内置高级水体, 海水环境，不支持移动设备-->
    <entityAdvanceWater id="sysEntityAdvanceWater" extends="sysEntityAdvanceWaterBase" />
    
    <!--内置包围盒-->
    <entitySimpleModel id="sysEntityBoundary" extends="sysEntityBoundaryBase" />
    
    <!-- ========================================================================= -->
    <!-- 一些额外的参考配置，不能直接使用，根据应用和资源环境的不同实际情况，配置参数会有所不同 -->
    <!-- ========================================================================= -->
    <!--  
    地形：落樱小岛
    <entitySimpleTerrain id="sysEntitySakuraIslandTerrain" extends="sysEntityTerrainBase" file="Models/env/terrain/scene.j3o" scale="5,5,5" />
    边界盒： 落樱小岛的边界盒
    <entitySimpleModel id="sysEntitySakuraIslandBoundary" extends="sysEntityBoundaryBase" location="0,0,5" scale="220,80,210" />
    简单水体:移动平台
    <entitySimpleWater id="sysEntitySakuraIslandSimpleWater" extends="sysEntitySimpleWater" />
    默认海水:桌面平台
    <entityAdvanceWater id="sysEntitySakuraIslandAdvanceWater" extends="sysEntityAdvanceWater" />
    海水环境代理：根据平台在桌面环境下使用高级水体效果，在其它平台（主要是移动平台）下使用简单水体效果
    <entityPlatformProxy id="sysEntitySakuraIslandWater" defaultEnv="entitySakuraIslandSimpleWater" mapping="entitySakuraIslandAdvanceWater|Windows32|Windows64|Linux32|Linux64|MacOSX32|MacOSX64|MacOSX_PPC32|MacOSX_PPC64" />
    海边环境音效
    <entityAudio id="sysEntitySakuraIslandAudioSea" sound="soundOcean" debug="0" location="0, 0, 120" maxDistance="100" refDistance="20" looping="1" volume="1" />
    -->
    
</root>



