<?xml version="1.0" encoding="UTF-8"?>

<root
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xmlns='http://luoying.huliqing.name'
    xsi:schemaLocation='http://luoying.huliqing.name meta/env.xsd'>
    
    <!-- ========================================================================= -->
    <!--基本配置：这些作为内置配置，统一定义不同类型环境物体的基本属性，外部应用可以直接继承后使用，也可以自己另起配置 -->
    <!-- ========================================================================= -->
    
    <!--基本天空-->
    <envSky id="sysEnvSkyBase" baseDir="LuoYing/Assets/Textures/Sky/" 
            west="west.jpg" east="east.jpg" north="north.jpg" south="south.jpg" up="up.jpg" down="down.jpg" />
    
    <!--地形基本配置：需要接收投影，需要静态物理-->
    <envTerrain id="sysEnvTerrainBase" file="LuoYing/Assets/Models/unitBox.j3o" scale="100,1,100"  shadowMode="Receive" modules="sysModuleTerrainPhysics" />

    <!--树木基本配置： 需要投影，需要静态物理-->
    <envTree id="sysEnvTreeBase" file="LuoYing/Assets/Models/Tree/tree431.obj" scale="10,10,10" shadowMode="Cast" modules="sysModuleTreePhysics"  />
    
    <!--花草植被的基本配置: 不需要投影，不需要物理-->
    <envGrass id="sysEnvGrassBase" shadowMode="Off" />
    
    <!--简单水体，可适用移动平台-->
    <envSimpleWater id="sysEnvSimpleWaterBase" waterModel="LuoYing/Assets/MatDefs/SimpleWater/water.mesh.j3o" scale="300,1,300" 
        location="0,-2.5,0" rotation="0,0,0" waterColor="0.6, 0.8, 0.9, 1" texScale="10" waveSpeed="0.003" distortionScale="0.4"
        foamMap="LuoYing/Assets/MatDefs/SimpleWater/foam.jpg" foamScale="1,1" 
        foamMaskMap="LuoYing/Assets/MatDefs/SimpleWater/foamMask.jpg" foamMaskScale="1.8, 1.8"
    />

    <!--高级水体，资源占用较大，不能用在移动平台 -->
    <envAdvanceWater id="sysEnvAdvanceWaterBase" waterColor="0.6, 0.8, 0.9, 1" deepWaterColor="0.6, 0.8, 0.9, 1" underWaterFogDistance="80" waterTransparency="0.12" 
                     foamIntensity="0.4" foamHardness="0.3" foamExistence="0.8,8,1" reflectionDisplace="50" refractionConstant="0.25" 
                     colorExtinction="30, 50, 70" causticsIntensity="0.4" waveScale="0.003" maxAmplitude="2" foamTexture="Common/MatDefs/Water/Textures/foam2.jpg"
                     refractionStrength="0.2" waterHeight="-2.5" sunScale="3" />
    
    <!--简单的方形物理边界基本配置：需要静态物理，始终隐藏-->
    <envModel id="sysEnvBoundaryBase" file="LuoYing/Assets/Models/unitBoundaryBox.j3o" scale="100,20,100" cullHint="Always" modules="sysModuleBoundaryPhysics" />
    
    <!--基本物理环境-->
    <envPhysics id="sysEnvPhysicsBase" gravity="0,-9.81,0" threadingType="SEQUENTIAL" />
    
    <!--基本直射光和环境光-->
    <envDirectionalLight id="sysEnvDirectionalLightBase" direction="-1,-1,-1" color="0.8,0.8,0.8,0.8" />
    <envAmbientLight id="sysEnvAmbientLightBase" color="0.7,0.7,0.7,0.7" />
    
    <!--基本阴影配置-->
    <envShadow id="sysEnvShadowBase" shadowIntensity="0.3" shadowMapSize="2048" shadowMaps="1" />
    
    <!--基本的物理相机跟随-->
    <envChaseCamera id="sysEnvChaseCameraBase" invertVerticalAxis="1" lookAtOffset="0,2,0" zoomSensitivity="0.5" 
                    rotationSpeed="5" rotationSensitivity="5" maxDistance="15" minDistance="2" defaultDistance="15" 
                    chasingSensitivity="5" downRotateOnCloseViewOnly="1" upVector="0,1,0" hideCursorOnRotate="0" />
    
    <!-- ========================================================================= -->
    <!-- 以下为内置环境物体，用于内部测试 -->
    <!-- ========================================================================= -->
    
    <!--内置天空盒-->
    <envSky id="sysEnvSky" extends="sysEnvSkyBase" />
    
    <!--内置直射光环境-->
    <envDirectionalLight id="sysEnvDirectionalLight" extends="sysEnvDirectionalLightBase" />

    <!--内置环境光-->
    <envAmbientLight id="sysEnvAmbientLight" extends="sysEnvAmbientLightBase" />
    
    <!--内置测试用地形-->
    <envTerrain id="sysEnvTerrain" extends="sysEnvTerrainBase" />
    
    <!--内置测试用的树模型-->
    <envTree id="sysEnvTree" extends="sysEnvTreeBase"  />
    
    <!--内置物理环境-->
    <envPhysics id="sysEnvPhysics" extends="sysEnvPhysicsBase" />
    
    <!--内置阴影环境-->
    <envShadow id="sysEnvShadow" extends="sysEnvShadowBase" />

    <!--内置物理跟随相机-->
    <envChaseCamera id="sysEnvChaseCamera" extends="sysEnvChaseCameraBase" />
    
    <!--内置普通水体-->
    <envSimpleWater id="sysEnvSimpleWater" extends="sysEnvSimpleWaterBase" />
    
    <!--内置高级水体, 海水环境，不支持移动设备-->
    <envAdvanceWater id="sysEnvAdvanceWater" extends="sysEnvAdvanceWaterBase" />
    
    <!--内置包围盒-->
    <envModel id="sysEnvBoundary" extends="sysEnvBoundaryBase" />
    
    <!-- ========================================================================= -->
    <!-- 一些额外的参考配置，不能直接使用，根据应用和资源环境的不同实际情况，配置参数会有所不同 -->
    <!-- ========================================================================= -->
    <!--  
    地形：落樱小岛
    <envTerrain id="envSakuraIslandTerrain" extends="sysEnvTerrainBase" file="Models/env/terrain/scene.j3o" scale="5,5,5" />
    边界盒： 落樱小岛的边界盒
    <envModel id="envSakuraIslandBoundary" extends="sysEnvBoundaryBase" location="0,0,5" scale="220,80,210" />
    简单水体:移动平台
    <envSimpleWater id="envSakuraIslandSimpleWater" extends="sysEnvSimpleWater" />
    默认海水:桌面平台
    <envAdvanceWater id="envSakuraIslandAdvanceWater" extends="sysEnvAdvanceWater" />
    海水环境代理：根据平台在桌面环境下使用高级水体效果，在其它平台（主要是移动平台）下使用简单水体效果
    <envPlatformProxy id="envSakuraIslandWater" defaultEnv="envSakuraIslandSimpleWater" mapping="envSakuraIslandAdvanceWater|Windows32|Windows64|Linux32|Linux64|MacOSX32|MacOSX64|MacOSX_PPC32|MacOSX_PPC64" />
    海边环境音效
    <envAudio id="envSakuraIslandAudioSea" sound="soundOcean" debug="0" location="0, 0, 120" maxDistance="100" refDistance="20" looping="1" volume="1" />
    -->
    
</root>



