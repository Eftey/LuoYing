<?xml version="1.0" encoding="UTF-8"?>

<root
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xmlns='http://fighter.huliqing.name'
    xsi:schemaLocation='http://fighter.huliqing.name meta/env.xsd'>
    
    <!-- ========================================================================= -->
    <!--基本配置:这些基本配置统一定义不同类型环境物体的基本属性，不直接使用，只作为被继承时使用。-->
    <!-- ========================================================================= -->
    
    <!--天空盒-->
    <envSky id="envSkyBase" west="west.jpg" east="east.jpg" north="north.jpg" south="south.jpg" up="up.jpg" down="down.jpg" baseDir="Textures/tex/sky/default_min/" />

    <!--地形-->
    <envTerrain id="envTerrainBase" physics="1" mass="0" friction="1" pickable="1" terrain="1" shadowMode="Receive" />

    <!--植被：树木-->
    <envTree id="envTreeBase" physics="1" mass="0" friction="0" shadowMode="Cast" useUnshaded="1" />
    
    <!--植被：草丛、花朵-->
    <envGrass id="envGrassBase" physics="0" shadowMode="Off" useUnshaded="1" />
    
    <!--场景阴影基本配置-->
    <envShadow id="envShadowBase" shadowIntensity="0.3" shadowMapSize="2048" shadowMaps="1" />

    <!--直射光基本配置-->
    <envLightDirectional id="envLightDirectionalBase" direction="-1,-2,-1" color="0.8,0.8,0.8,0.8"  />

    <!--基本的环境光-->
    <envLightAmbient id="envLightAmbientBase" color="0.7,0.7,0.7,0.7" />
    
    <!--高级水体：海水环境，对资源要求较高,目前不支持移动设备-->
    <envWaterAdvance id="envWaterAdvanceBase" waterColor="0.6, 0.8, 0.9, 1" deepWaterColor="0.6, 0.8, 0.9, 1" underWaterFogDistance="80" waterTransparency="0.12" 
                     foamIntensity="0.4" foamHardness="0.3" foamExistence="0.8,8,1" reflectionDisplace="50" refractionConstant="0.25" 
                     colorExtinction="30, 50, 70" causticsIntensity="0.4" waveScale="0.003" maxAmplitude="2" foamTexture="Common/MatDefs/Water/Textures/foam2.jpg"
                     refractionStrength="0.2" waterHeight="-2.5" sunScale="9"
    />
    
    <!--普通水体：对资源要求不高，支持移动设备-->
    <envWaterSimple id="envWaterSimpleBase" waterModel="MatDefs/SimpleWater/Plane.mesh.j3o" scale="500,1,500" 
        location="0,-2.5,0" rotation="0,0,0" waterColor="0.6, 0.8, 0.9, 1" texScale="10" waveSpeed="0.003" distortionScale="0.4"
        foamMap="MatDefs/SimpleWater/foam3.jpg" foamScale="1,1" foamMaskMap="MatDefs/SimpleWater/foamMask.jpg" foamMaskScale="1.8, 1.8"
    />
    
    <!--物理环境-->
    <envPhysics id="envPhysicsBase" gravity="0,-9.81,0" threadingType="SEQUENTIAL" />
    
    <!--第三人称镜头跟随视角-->
    <envCameraChase id="envCameraChaseBase" invertVerticalAxis="1" lookAtOffset="0,2,0" zoomSensitivity="0.5" 
                    rotationSpeed="5" rotationSensitivity="5" maxDistance="15" minDistance="2" defaultDistance="15" 
                    chasingSensitivity="5" downRotateOnCloseViewOnly="1" upVector="0,1,0" hideCursorOnRotate="0" />
    
    <!-- ========================================================================= -->
    <!--通用、默认配置-->
    <!-- ========================================================================= -->
    
    <!--默认的物理环境-->
    <envPhysics id="envPhysics" extends="envPhysicsBase" debug="0" />
    
    <!--默认的天空盒-->
    <envSky id="envSky" extends="envSkyBase" />

    <!--默认的直射光-->
    <envLightDirectional id="envLightDirectional" extends="envLightDirectionalBase"  />
    
    <!--默认的环境光-->
    <envLightAmbient id="envLightAmbient" extends="envLightAmbientBase" />
    
    <!--默认的阴影处理器-->
    <envShadow id="envShadow" extends="envShadowBase" />
    
    <!--第三人称视角相机-->
    <envCameraChase id="envCameraThirdView" extends="envCameraChaseBase" />
    
    <!--默认的各种树-->
    <envTree id="envTree1" extends="envTreeBase" file="Models/trees/tree/tree381.j3o" randomScale="1" minScale="4" maxScale="24" />
    <envTree id="envTree2" extends="envTree1" file="Models/trees/tree/tree431.j3o"  />
    <envTree id="envTree3" extends="envTree1" file="Models/trees/tree/tree613.j3o"  />
    <envTree id="envTree4" extends="envTree1" file="Models/trees/tree/tree978.j3o"  />
    <envTree id="envFir1" extends="envTree1" file="Models/trees/fir/fir473.j3o"   />
    <envTree id="envFir2" extends="envTree1" file="Models/trees/fir/fir483.j3o"  />
    <envTree id="envFir3" extends="envTree1" file="Models/trees/fir/fir527.j3o"  />
    
    <!--默认的各种花草-->
    <envGrass id="envFlower0" extends="envGrassBase" file="Models/plant/flower/camellia.j3o" randomScale="1" minScale="3" maxScale="5" />
    <envGrass id="envFlower1" extends="envGrassBase" file="Models/plant/flower/flower3.j3o" randomScale="1" minScale="0.5" maxScale="1.5" />
    <envGrass id="envGrass1" extends="envGrassBase" file="Models/plant/grass/fern.j3o" randomScale="1" minScale="2" maxScale="5" />
    <envGrass id="envGrass2" extends="envGrassBase" file="Models/plant/grass/fern2.j3o" randomScale="1" minScale="1" maxScale="2.5" />
    <envGrass id="envGrass3" extends="envGrassBase" file="Models/plant/grass/tussockA.j3o" randomScale="1" minScale="1.5" maxScale="3.0" />
    <envGrass id="envGrass4" extends="envGrassBase" file="Models/plant/grass/tussockB.j3o" randomScale="1" minScale="2.0" maxScale="5" />
    
    <!-- ========================================================================= -->
    <!-- DEBUG，测试专用 -->
    <!-- ========================================================================= -->
        
    <envTerrain id="envTerrainDebug" extends="envTerrainBase" file="Models/env/terrain/debug.j3o" scale="10,1,10" />
    <envTerrain id="envTerrainDebug2" extends="envTerrainBase" file="Models/env/terrain/scene.j3o" scale="5,5,5" />
    <envTerrain id="envTerrainDebug3" extends="envTerrainBase" file="Models/env/terrain/treasure.j3o" />
    <envCameraChase id="envCameraThirdViewDebug" extends="envCameraChaseBase" maxDistance="99999999" zoomSensitivity="3" />
    
    <!-- ========================================================================= -->
    <!--特殊环境： 落樱小岛-->
    <!-- ========================================================================= -->
    
    <!--地形：落樱小岛-->
    <envTerrain id="envSakuraIslandTerrain" extends="envTerrainBase" file="Models/env/terrain/scene.j3o" scale="5,5,5" />
    <!--边界盒： 落樱小岛的边界盒-->
    <envBoundaryBox id="envSakuraIslandBoundary" xyzExtends="220,80,210" debug="0" location="0,0,5" />
    <!--简单水体:移动平台-->
    <envWaterSimple id="envSakuraIslandWaterSimple" extends="envWaterSimpleBase" />
    <!--默认海水:桌面平台-->
    <envWaterAdvance id="envSakuraIslandWaterAdvance" extends="envWaterAdvanceBase" />
    <!--海水环境代理：根据平台在桌面环境下使用高级水体效果，在其它平台（主要是移动平台）下使用简单水体效果-->
    <envProxyPlatform id="envSakuraIslandWater" defaultEnv="envSakuraIslandWaterSimple" mapping="envSakuraIslandWaterAdvance|Windows32|Windows64|Linux32|Linux64|MacOSX32|MacOSX64|MacOSX_PPC32|MacOSX_PPC64" />
    <!--海边环境音效-->
    <envAudio id="envSakuraIslandAudioSea" sound="soundOcean" debug="0" location="0, 0, 120" maxDistance="100" refDistance="20" looping="1" volume="1" />
    
    
    
</root>



